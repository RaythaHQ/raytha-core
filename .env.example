# Raytha Environment Variables
# Copy this file to .env and modify as needed
# Usage: docker-compose --env-file .env up

# =============================================================================
# ENVIRONMENT MODE
# =============================================================================
# Set to Development to disable HTTPS enforcement (required for non-localhost HTTP)
# Set to Production for production deployments with HTTPS
ASPNETCORE_ENVIRONMENT=Development

# =============================================================================
# DATABASE
# =============================================================================
# Postgres connection string (required)
# ConnectionStrings__DefaultConnection=Host=db;Port=5432;Username=postgres;Password=changeme;Database=raytha

# =============================================================================
# PATH BASE
# =============================================================================
# Set if running Raytha at a subpath (e.g., mydomain.com/mywebsite)
# PATHBASE=/mywebsite

# =============================================================================
# SMTP / EMAIL SETTINGS
# =============================================================================
# Required for password reset, email notifications, etc.
# SMTP_HOST=
# SMTP_PORT=
# SMTP_USERNAME=
# SMTP_PASSWORD=
# SMTP_FROM_NAME=
# SMTP_FROM_ADDRESS=

# =============================================================================
# FILE STORAGE
# =============================================================================
# FILE_STORAGE_PROVIDER=Local
# Options: Local, AzureBlob, S3

# FILE_STORAGE_MAX_FILE_SIZE=20000000
# Max file size in bytes (default: 20 MB)

# FILE_STORAGE_MAX_TOTAL_DISK_SPACE=1000000000
# Max total storage in bytes (default: 1 GB)

# FILE_STORAGE_ALLOWED_MIMETYPES=text/*,image/*,video/*,audio/*,application/pdf
# Comma-separated mime types, wildcards supported

# FILE_STORAGE_USE_DIRECT_UPLOAD_TO_CLOUD=true
# Recommended true for S3/AzureBlob (requires CORS config on buckets)

# --- Local Storage ---
# FILE_STORAGE_LOCAL_DIRECTORY=user-uploads

# --- Azure Blob Storage ---
# FILE_STORAGE_AZUREBLOB_CONNECTION_STRING=
# FILE_STORAGE_AZUREBLOB_CONTAINER=
# FILE_STORAGE_AZUREBLOB_CUSTOM_DOMAIN=

# --- S3 / S3-Compatible Storage ---
# FILE_STORAGE_S3_ACCESS_KEY=
# FILE_STORAGE_S3_SECRET_KEY=
# FILE_STORAGE_S3_BUCKET=
# FILE_STORAGE_S3_SERVICE_URL=
# Required for S3-compatible providers (MinIO, Cloudflare R2), not AWS S3
# FILE_STORAGE_S3_REGION=us-east-1
# Required for AWS S3

# =============================================================================
# DATABASE LIMITS
# =============================================================================
# DATABASE_MAX_SIZE=1000000000
# Max database size in bytes (default: 1 GB)

# =============================================================================
# BACKGROUND WORKERS
# =============================================================================
# NUM_BACKGROUND_WORKERS=4

# =============================================================================
# MAINTENANCE / REDIRECT
# =============================================================================
# REDIRECT_WEBSITE=
# Set a URL to redirect all visitors (useful for maintenance)

# =============================================================================
# MIGRATIONS
# =============================================================================
# APPLY_PENDING_MIGRATIONS=true
# Automatically apply database migrations on startup

# =============================================================================
# SECURITY
# =============================================================================
# ENFORCE_HTTPS=true
# Enforce HTTPS redirection and HSTS in non-development environments
# Automatically disabled when ASPNETCORE_ENVIRONMENT=Development

# ALLOW_INTERNAL_URL_IMPORTS=false
# Allow importing themes/files from localhost and internal IPs
# Enable only for development/testing, keep false in production


# =============================================================================
# OBSERVABILITY - LOGGING
# =============================================================================
# Enable/disable console logging (default: true)
# OBSERVABILITY__LOGGING__ENABLECONSOLE=true

# Enable Loki/Victoria Logs for general application logging
# OBSERVABILITY__LOGGING__ENABLELOKI=false
# OBSERVABILITY__LOGGING__LOKIURL=http://localhost:3100

# Enable OpenTelemetry log export (requires OpenTelemetry to be enabled)
# OBSERVABILITY__LOGGING__ENABLEOPENTELEMETRY=false

# =============================================================================
# OBSERVABILITY - OPENTELEMETRY (Traces, Metrics, Logs)
# =============================================================================
# Enable OpenTelemetry integration
# OBSERVABILITY__OPENTELEMETRY__ENABLED=false

# OTLP endpoint (e.g., OpenObserve, Jaeger, Tempo)
# OBSERVABILITY__OPENTELEMETRY__OTLPENDPOINT=http://localhost:4317

# Service name for traces and metrics
# OBSERVABILITY__OPENTELEMETRY__SERVICENAME=app

# Standard OTEL environment variables (also supported)
# OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
# OTEL_SERVICE_NAME=app

# =============================================================================
# OBSERVABILITY - SENTRY (Error Tracking)
# =============================================================================
# Sentry DSN - set to enable error tracking
# For sentry.io: https://key@o123.ingest.sentry.io/project-id
# For self-hosted: http://key@localhost:9004/project-id
# SENTRY_DSN=

# =============================================================================
# OBSERVABILITY - AUDIT LOGS
# =============================================================================
# PostgreSQL audit logging is ALWAYS enabled (WritesOnly mode)
# It powers the in-app Audit Logs UI

# --- Loki Audit Sink (Additional) ---
# Enable Loki as an additional audit log destination
# OBSERVABILITY__AUDITLOG__ADDITIONALSINKS__LOKI__ENABLED=false

# Loki URL for audit logs (can differ from general logging URL)
# OBSERVABILITY__AUDITLOG__ADDITIONALSINKS__LOKI__URL=http://localhost:3100

# Audit log mode: "All" (commands + queries, HIPAA-compliant) or "WritesOnly" (commands only)
# OBSERVABILITY__AUDITLOG__ADDITIONALSINKS__LOKI__MODE=All

# --- OpenTelemetry Audit Sink (Additional) ---
# Enable OpenTelemetry as an additional audit log destination
# OBSERVABILITY__AUDITLOG__ADDITIONALSINKS__OPENTELEMETRY__ENABLED=false

# Audit log mode: "All" (commands + queries, HIPAA-compliant) or "WritesOnly" (commands only)
# OBSERVABILITY__AUDITLOG__ADDITIONALSINKS__OPENTELEMETRY__MODE=All