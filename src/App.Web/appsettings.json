{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information"
    }
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    //"DefaultConnection": "Server=.\\sqlexpress;Database=App;Trusted_Connection=True;MultipleActiveResultSets=true;TrustServerCertificate=True" //sql server
    "DefaultConnection": "Host=localhost;Port=5432;Username=postgres;Password=changeme;Database=cleanarch" //postgres
  },
  //Path base, set a value if you want to run the app at a path such as mydomain.com/mywebsite instead of just mydomain.com
  //if you plan to run the app along side other applications behind a reverse proxy such as nginx
  "PATHBASE": "", // example: "/mywebsite"
  //Email settings
  //Recommend sendgrid.com or mailgun.com for production. 
  //For local dev, check out https://github.com/ChangemakerStudios/Papercut-SMTP
  "SMTP_HOST": "127.0.0.1",
  "SMTP_PORT": 25,
  "SMTP_USERNAME": "",
  "SMTP_PASSWORD": "",
  "SMTP_FROM_NAME": "", //optional, if you want to always use this value regardless of what is specified in org settings.
  "SMTP_FROM_ADDRESS": "", //optional, if you want to always use this value regardless of what is specified in org settings.
  //File storage settings
  //Local storage should only be used for low traffic sites with small files (< 20 mb)
  //Otherwise go with Azure or an S3 compatible storage provider
  "FILE_STORAGE_PROVIDER": "Local", //Options: Local, AzureBlob, S3
  "FILE_STORAGE_MAX_FILE_SIZE": 20000000, //bytes, 20 mb
  "FILE_STORAGE_MAX_TOTAL_DISK_SPACE": 1000000000, //bytes, 1 gb
  "FILE_STORAGE_ALLOWED_MIMETYPES": "text/*,image/*,video/*,audio/*,application/pdf", //Comma separated mime types. Can use wildcard like image/*,video/*
  "FILE_STORAGE_USE_DIRECT_UPLOAD_TO_CLOUD": true, //Recommended set to true if using S3 or AzureBlob, requires CORS config on the cloud buckets
  "FILE_STORAGE_LOCAL_DIRECTORY": "user-uploads", //Required if FILE_STORAGE_PROVIDER = Local
  "FILE_STORAGE_AZUREBLOB_CONNECTION_STRING": "", //Required if FILE_STORAGE_PROVIDER = AzureBlob
  "FILE_STORAGE_AZUREBLOB_CONTAINER": "", //Required if FILE_STORAGE_PROVIDER = AzureBlob
  "FILE_STORAGE_AZUREBLOB_CUSTOM_DOMAIN": "", //Optional if FILE_STORAGE_PROVIDER = AzureBlob
  "FILE_STORAGE_S3_ACCESS_KEY": "", //Required if FILE_STORAGE_PROVIDER = S3
  "FILE_STORAGE_S3_SECRET_KEY": "", //Required if FILE_STORAGE_PROVIDER = S3
  "FILE_STORAGE_S3_BUCKET": "", //Required if FILE_STORAGE_PROVIDER = S3
  "FILE_STORAGE_S3_SERVICE_URL": "", //Required if using S3-compatible storage providers like MinIO or Cloudflare R2, not AWS S3
  "FILE_STORAGE_S3_REGION": "us-east-1", // Required if using AWS S3
  //Other
  "DATABASE_MAX_SIZE": 1000000000, //bytes, 1 gb
  //Background tasks
  "NUM_BACKGROUND_WORKERS": 4,
  //App functions
  "APP_FUNCTIONS_MAX_ACTIVE": 5,
  "APP_FUNCTIONS_TIMEOUT": 10000,
  "APP_FUNCTIONS_QUEUE_TIMEOUT": 10000,
  "REDIRECT_WEBSITE": "", //set a url here to redirect the website visitor elsewhere (useful for maintenance or non-payment)
  "APPLY_PENDING_MIGRATIONS": true, //automatically upgrade the database to the version currently running. Set to false if you want to manually apply db migrations
  "ENFORCE_HTTPS": true, //enforce HTTPS redirection and HSTS in non-development environments
  //Security settings
  "ALLOW_INTERNAL_URL_IMPORTS": false, //allow importing themes/files from localhost and internal IPs. Enable only for development.

  //Observability settings
  //All integrations are optional and gracefully degrade when not configured.
  //Environment variables use double underscore (__) for hierarchy, e.g., OBSERVABILITY__LOGGING__ENABLECONSOLE
  "Observability": {
    "Logging": {
      "EnableConsole": true,         //Enable console logging (default: true)
      "EnableOpenTelemetry": false,  //Send logs to OpenTelemetry (requires OpenTelemetry.Enabled)
      "EnableLoki": false,           //Send logs to Loki/Victoria Logs
      "LokiUrl": ""                  //Loki push endpoint, e.g., http://localhost:3100
    },
    "OpenTelemetry": {
      "Enabled": false,              //Enable OpenTelemetry tracing, metrics, and optionally logs
      "OtlpEndpoint": "",            //OTLP endpoint, e.g., http://localhost:4317 (also reads OTEL_EXPORTER_OTLP_ENDPOINT)
      "ServiceName": "app"           //Service name for traces/metrics (also reads OTEL_SERVICE_NAME)
    },
    "Sentry": {
      "Dsn": "",                     //Sentry DSN for error tracking (also reads SENTRY_DSN)
      "Environment": "production"    //Environment tag for Sentry
    },
    "AuditLog": {
      //PostgreSQL is always enabled and always WritesOnly - it's the source for the in-app Audit Logs UI
      //Additional sinks can be configured below for comprehensive logging including query (read) auditing
      "AdditionalSinks": {
        "Loki": {
          "Enabled": false,          //Enable Loki as additional audit sink
          "Url": "",                 //Loki push endpoint for audit logs (can differ from general logging)
          "Mode": "All"              //WritesOnly = commands only, All = commands + queries (HIPAA-compliant default)
        },
        "OpenTelemetry": {
          "Enabled": false,          //Enable OpenTelemetry as additional audit sink
          "Mode": "All"              //WritesOnly = commands only, All = commands + queries (HIPAA-compliant default)
        }
      }
    }
  }
}